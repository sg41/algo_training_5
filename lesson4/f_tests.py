import subprocess
import argparse
import timeit

task_name = "f.cpp"


def run_test(data, **kwargs):
    if kwargs.get("comment") != None:
        print(kwargs.get("comment"))
    test = subprocess.Popen(
        "./a.out",  stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)
    (out, err) = test.communicate(input=data)
    if test.returncode != 0:
        print(data)
        print(err)
        print("RE")
    # print(data)
    print(out)
    res = list(out.split("\n"))
    if kwargs.get("answer") and len(res) > 0:
        if res != kwargs.get("answer").split("\n"):
            answer = kwargs.get("answer").split("\n")
            print(f"WRONG ANSWER: {res} != {answer}")
            return

    if kwargs.get("value") != None and len(res) > 1:
        if "\n".join(res[1:-1]) != kwargs.get("value"):
            print(
                f"WRONG VALUE: {res[1:]} != {kwargs.get('value')}")


parser = argparse.ArgumentParser(description='My example explanation')
parser.add_argument('-d', '--debug', action='store_true', help='Debug mode')
args = parser.parse_args()
if args.debug:
    result = subprocess.run(["g++", "-std=c++20", "-g", task_name])
else:
    result = subprocess.run(["g++", "-std=c++20", "-g", "-O3",  task_name])
if result.returncode == 0:

    run_test("""5 6 5
5 4
2 6
4 1
2 3
1 4
""", answer="3", comment="test 1")
    run_test("""4 3 4
1 1
4 3
4 1
1 3
""", answer="3", comment="test 2")
    run_test("""500 500 500
406 86
85 139
370 294
44 143
20 79
96 482
138 253
184 322
164 358
198 355
203 348
362 364
457 142
210 312
278 401
447 285
438 158
476 199
291 353
476 260
436 467
207 313
368 491
94 13
317 319
195 175
56 37
118 439
297 240
467 249
463 382
377 291
228 24
128 210
362 432
136 454
294 117
261 455
80 453
400 157
379 414
387 320
333 283
445 309
229 217
259 327
287 411
425 211
4 367
125 56
156 259
373 156
162 483
179 49
372 480
305 71
426 49
184 160
214 269
224 498
488 107
331 486
458 77
352 91
311 293
218 359
95 420
24 112
377 378
24 318
328 86
111 433
450 420
161 283
67 435
498 411
121 343
143 323
435 393
116 45
257 152
345 175
241 479
366 260
415 494
215 64
215 229
6 280
187 325
313 329
471 170
446 18
262 473
103 241
214 474
351 321
79 221
432 39
163 187
173 152
312 384
435 168
449 201
349 157
180 294
474 330
311 223
171 105
341 34
478 329
81 427
208 342
3 279
325 447
497 446
218 175
276 260
335 230
450 485
45 189
360 113
181 143
346 451
247 482
33 348
70 275
443 138
5 424
100 83
101 495
169 249
80 189
223 499
202 396
211 217
188 361
209 213
422 310
259 165
266 139
371 496
469 4
9 223
369 351
146 320
238 172
348 223
44 308
379 33
295 372
438 183
398 277
158 142
91 67
344 225
58 473
479 181
28 256
326 266
489 478
385 201
278 18
371 112
455 198
73 461
167 36
475 396
286 478
317 215
324 54
327 449
271 110
174 310
114 10
51 467
468 400
188 179
9 265
375 52
239 469
181 289
332 138
173 440
452 420
184 346
90 449
40 155
55 306
38 124
267 272
344 193
101 392
261 498
93 62
187 314
128 258
126 426
341 405
373 313
461 164
386 346
118 386
316 436
338 87
343 262
402 146
231 268
374 226
330 436
494 448
411 163
104 250
141 177
400 228
151 270
157 459
2 355
302 228
422 73
369 25
385 417
310 404
421 76
247 411
1 134
171 128
408 207
260 49
217 161
62 273
46 434
135 291
265 119
195 450
150 243
435 377
160 158
47 298
484 324
233 232
44 455
206 387
445 318
183 43
278 444
419 136
178 257
77 156
303 315
79 53
166 376
236 451
472 257
255 20
299 451
398 134
137 276
398 369
476 177
390 364
276 228
309 111
394 183
244 401
379 450
500 344
52 325
205 411
266 163
246 478
43 453
266 252
361 79
246 36
165 363
356 459
150 105
237 157
453 104
13 468
142 283
326 449
134 114
167 146
87 171
345 471
494 358
306 425
183 76
191 293
7 365
332 110
343 268
35 212
86 355
25 377
393 206
5 61
100 358
327 231
116 481
383 226
52 19
469 355
146 221
225 184
368 411
211 142
25 379
340 257
389 198
189 142
86 423
269 228
51 101
74 50
121 44
251 250
337 208
317 217
168 327
10 301
310 249
235 341
336 109
66 182
316 228
213 200
204 313
122 390
350 64
315 98
458 47
484 47
197 137
323 433
49 28
438 403
326 112
75 131
61 439
36 368
429 135
465 109
490 452
422 382
162 279
479 158
389 138
11 109
74 354
384 172
475 333
221 315
111 299
414 2
54 399
204 291
75 170
366 158
156 129
174 458
446 105
180 123
101 147
365 269
321 147
98 395
43 277
383 440
42 131
115 409
95 110
194 489
12 372
114 393
271 35
200 117
259 274
172 190
117 255
364 19
472 270
121 310
457 6
108 211
406 219
447 207
350 200
448 73
440 65
362 404
406 262
447 464
271 271
382 269
108 389
424 166
14 282
166 267
297 131
324 189
454 357
445 137
198 236
354 365
179 153
470 128
8 309
398 361
358 17
137 448
378 5
257 3
296 485
45 354
380 110
1 47
227 487
299 315
50 492
481 354
298 85
161 401
57 158
316 203
211 425
373 164
409 263
63 61
449 161
96 42
237 335
272 444
278 33
319 404
350 476
123 374
43 75
482 450
95 332
499 66
53 496
478 418
149 317
75 135
433 397
79 399
311 307
450 318
64 390
301 51
36 395
257 296
84 480
221 34
464 32
299 124
126 204
490 334
102 129
152 476
476 333
75 482
474 419
29 415
475 262
74 495
45 457
491 209
460 456
274 43
242 231
182 128
171 424
420 374
233 143
216 106
320 155
390 492
371 108
86 280
74 117
140 80
435 148
116 327
116 214
435 24
40 42
241 384
415 13
328 277
112 262
31 446
411 228
174 399
383 138
460 161
433 360
428 441
""", answer="432", comment="test 3")
    run_test("""500 500 500
243 159
349 60
245 256
339 53
250 268
315 60
101 57
245 105
184 53
246 265
247 235
139 58
377 58
241 378
440 56
246 214
241 296
315 55
295 56
204 55
249 143
242 10
454 55
397 53
151 53
250 271
247 107
75 58
241 345
242 425
390 61
459 54
384 59
250 26
493 54
441 62
414 60
159 58
224 53
409 56
246 52
249 111
476 61
245 479
309 53
248 495
467 62
282 57
245 346
472 58
241 337
247 131
26 55
247 37
362 54
249 170
267 54
111 61
326 57
470 62
366 61
250 480
168 55
166 56
244 224
452 55
238 62
408 60
197 62
4 61
248 132
449 61
243 492
243 451
272 62
304 54
245 420
242 480
83 57
249 225
244 303
75 61
228 60
247 318
243 185
250 230
248 294
241 88
431 60
246 486
245 71
1 57
128 59
54 54
249 259
250 106
226 62
150 57
249 94
281 56
241 205
496 56
139 55
212 57
248 123
244 317
457 58
245 121
249 325
244 306
189 60
241 440
246 452
247 108
241 307
244 132
245 395
94 55
249 40
241 200
403 61
14 57
249 89
118 59
137 57
245 72
409 61
257 54
246 206
492 61
241 455
245 229
71 58
249 129
474 62
499 60
71 53
246 228
242 263
241 192
245 189
166 60
248 318
250 317
244 177
243 166
243 236
249 64
247 400
72 55
335 59
245 76
242 13
494 58
247 437
33 53
243 82
249 356
437 60
244 201
248 224
241 363
168 61
211 56
249 150
248 410
252 54
245 274
249 345
313 57
241 286
481 61
247 125
242 448
41 56
258 54
243 473
488 62
249 161
247 385
245 442
245 243
245 454
77 55
241 33
289 56
243 86
246 416
243 393
248 275
245 103
282 53
250 456
447 58
245 341
116 56
424 60
248 124
268 60
203 53
288 62
249 454
119 58
242 62
225 58
3 58
397 60
339 59
359 58
250 45
432 61
130 55
85 61
249 484
41 53
242 331
247 142
248 69
431 62
304 57
250 284
500 55
246 96
47 58
358 55
37 56
226 61
117 60
272 54
462 53
250 358
207 55
241 382
245 400
414 62
245 276
245 401
91 61
143 60
403 57
428 57
250 47
241 428
53 61
107 60
250 411
341 58
370 58
247 33
229 62
250 228
242 97
242 323
246 37
91 53
322 60
180 57
249 238
262 54
250 432
294 61
243 134
256 62
56 61
244 435
247 227
241 28
60 56
241 442
353 54
273 54
245 81
249 378
197 58
387 53
109 59
243 324
245 104
249 25
249 251
242 407
173 60
243 200
55 54
87 58
248 377
246 77
234 55
241 2
243 466
247 84
244 225
460 61
93 62
364 61
384 56
242 119
336 61
326 60
242 265
248 17
218 61
441 61
189 55
281 60
247 18
247 482
243 197
436 53
249 413
243 15
244 21
386 60
358 57
127 55
246 243
208 59
496 55
445 56
250 122
28 60
247 471
160 60
95 58
298 54
274 60
447 60
243 239
243 90
249 211
244 187
177 60
200 57
242 117
354 62
246 28
245 436
365 58
248 195
243 261
248 58
268 58
324 62
202 56
245 366
146 55
372 58
304 56
340 59
250 353
412 55
75 53
250 489
245 6
246 440
445 61
167 55
243 267
335 53
249 432
176 58
241 446
243 234
250 194
149 55
245 335
250 104
245 54
247 183
202 57
251 61
308 57
245 312
245 17
205 58
380 61
248 238
208 55
201 56
343 57
243 417
444 62
242 4
179 61
247 209
51 60
247 168
248 438
249 273
145 62
241 177
54 57
460 57
40 56
243 189
419 59
294 58
224 54
75 57
243 409
304 60
245 413
250 53
481 56
154 57
122 53
412 53
186 56
247 325
246 17
143 61
241 443
250 437
244 260
245 99
245 280
442 54
73 62
249 269
245 473
242 84
462 58
249 459
287 55
452 61
247 126
258 61
250 185
245 262
440 58
243 320
281 53
243 13
269 58
298 61
113 62
246 372
320 55
162 58
131 54
241 73
318 62
120 55
70 59
245 234
244 342
245 123
489 60
243 322
225 54
174 53
416 54
180 53
402 61
330 60
65 56
241 492
50 62
135 58
98 54
242 234
248 267
67 61
434 54
243 40
131 55
250 446
332 55
31 54
241 21
241 186
241 115
243 232
219 61
246 81
339 55
250 492
302 56
462 56
450 59
242 282
289 54
327 58
411 59
278 55
244 439
269 54
495 54
247 435
243 46
451 62
343 58
334 57
249 355
249 192
84 59
30 55
20 57
248 233
245 261
""", answer="10", comment="test 5, not sure in answer")
    run_test("""500 450 500
257 297
271 74
257 141
275 74
23 74
257 299
257 127
471 74
257 142
86 74
257 165
257 229
257 448
484 74
257 337
304 74
212 74
257 367
257 73
257 244
257 343
295 74
257 61
257 445
475 74
99 74
497 74
37 74
489 74
257 128
127 74
487 74
241 74
465 74
257 355
379 74
257 321
257 282
50 74
257 145
257 450
257 188
257 18
115 74
13 74
257 57
257 298
257 143
257 180
257 121
257 237
166 74
257 444
257 79
264 74
257 200
257 254
257 303
257 48
103 74
469 74
172 74
257 374
257 23
133 74
257 402
257 219
220 74
257 186
257 382
257 394
298 74
202 74
32 74
278 74
165 74
257 124
199 74
257 239
466 74
257 34
257 59
409 74
257 304
257 119
85 74
323 74
257 131
319 74
257 156
257 415
401 74
335 74
257 446
269 74
403 74
257 16
257 306
257 348
257 8
152 74
371 74
257 153
259 74
125 74
257 201
255 74
180 74
257 22
250 74
147 74
96 74
257 293
138 74
399 74
257 240
47 74
257 41
372 74
94 74
257 251
257 284
257 271
257 397
448 74
431 74
390 74
238 74
352 74
257 388
116 74
105 74
257 137
257 280
477 74
219 74
367 74
257 56
257 428
257 214
257 409
257 38
414 74
98 74
257 277
310 74
472 74
257 395
257 92
257 443
100 74
257 43
173 74
257 135
216 74
257 32
73 74
136 74
257 330
66 74
350 74
257 87
257 75
349 74
242 74
257 305
61 74
430 74
257 44
257 72
257 147
119 74
257 378
84 74
211 74
207 74
102 74
386 74
251 74
428 74
193 74
257 261
35 74
257 226
59 74
257 375
156 74
340 74
257 12
257 222
405 74
463 74
476 74
287 74
262 74
257 344
385 74
257 263
257 320
257 268
293 74
217 74
257 311
257 138
257 70
257 273
257 361
254 74
467 74
257 380
257 412
192 74
257 371
257 270
257 260
257 197
257 91
257 347
257 179
381 74
257 365
265 74
257 55
38 74
257 326
317 74
257 434
422 74
370 74
257 369
291 74
458 74
145 74
257 426
109 74
452 74
257 152
274 74
437 74
257 389
389 74
257 392
257 346
443 74
240 74
436 74
257 217
257 436
78 74
345 74
444 74
257 173
239 74
257 301
257 134
257 103
139 74
494 74
201 74
194 74
421 74
408 74
11 74
266 74
257 302
110 74
257 417
97 74
257 187
359 74
257 386
257 307
182 74
191 74
16 74
257 105
485 74
33 74
334 74
412 74
435 74
184 74
257 403
400 74
280 74
257 411
257 66
356 74
257 94
257 126
257 104
457 74
257 174
257 247
74 74
146 74
213 74
76 74
257 387
14 74
42 74
496 74
40 74
257 125
348 74
314 74
257 183
203 74
257 192
481 74
336 74
157 74
222 74
261 74
149 74
257 139
137 74
257 39
413 74
257 97
190 74
257 33
93 74
257 209
159 74
215 74
257 101
257 447
113 74
257 60
25 74
123 74
257 35
257 7
257 359
253 74
257 31
331 74
498 74
257 151
257 295
257 203
257 98
257 329
393 74
257 120
171 74
257 345
257 63
343 74
108 74
257 341
195 74
303 74
44 74
328 74
257 236
257 264
257 207
257 30
257 122
432 74
257 194
480 74
205 74
320 74
155 74
309 74
312 74
88 74
411 74
224 74
221 74
257 29
28 74
257 418
257 77
341 74
257 196
329 74
257 429
257 159
257 181
450 74
257 144
420 74
257 257
461 74
257 115
89 74
257 232
257 286
490 74
294 74
257 248
325 74
257 28
257 76
19 74
257 432
384 74
257 349
197 74
366 74
72 74
257 136
118 74
459 74
257 287
5 74
395 74
122 74
257 393
257 323
438 74
257 313
198 74
257 363
257 399
257 36
257 228
249 74
95 74
168 74
257 292
257 274
257 391
257 362
111 74
257 157
257 314
257 352
306 74
257 241
257 379
64 74
9 74
257 117
257 167
446 74
257 93
106 74
183 74
257 213
276 74
257 78
257 27
257 149
257 433
257 366
204 74
257 258
257 396
424 74
257 150
12 74
226 74
313 74
257 278
257 25
351 74
257 50
257 198
396 74
243 74
257 316
257 266
154 74
257 148
257 220
302 74
257 111
284 74
273 74
141 74
177 74
257 435
289 74
196 74
257 372
257 89
45 74
257 118
257 168
41 74
257 123
124 74
257 204
257 449
257 431
26 74
257 327
290 74
257 259
39 74
257 17
257 442
10 74
257 107
297 74
""", answer="1", comment="test 8")
    run_test("""490 500 500
153 249
360 399
106 152
426 373
296 399
52 365
143 197
116 129
135 109
293 389
339 381
126 397
136 70
146 443
215 403
150 332
129 478
145 1
410 388
142 43
125 35
134 313
472 386
111 156
310 401
316 383
245 401
181 372
17 370
151 358
121 116
117 183
118 389
139 337
364 366
195 379
129 373
359 377
147 480
140 54
152 80
431 360
130 224
130 495
130 340
133 492
128 287
414 384
269 360
154 22
115 322
465 357
490 387
148 477
481 393
394 374
243 397
217 384
158 380
118 75
142 290
85 367
243 392
228 384
467 364
319 367
430 367
253 358
163 380
152 386
136 161
203 381
54 405
153 370
218 382
141 405
14 399
131 193
477 360
145 412
151 38
439 385
153 331
32 386
123 478
2 362
120 266
122 176
346 402
109 52
130 475
143 350
110 80
175 386
479 386
487 367
166 405
442 369
174 364
127 167
79 394
204 380
36 371
154 232
477 396
35 395
143 161
67 370
469 358
148 321
298 393
107 203
122 464
146 100
159 397
46 403
119 123
114 367
121 262
136 84
486 366
61 370
136 135
273 362
421 389
112 424
144 36
143 138
33 359
44 398
126 77
39 367
86 391
130 6
432 396
272 369
428 367
147 54
149 160
352 386
123 350
144 94
142 452
149 280
142 81
404 396
113 75
117 271
387 404
130 381
202 386
280 359
213 371
53 380
355 366
123 352
139 422
122 473
423 404
216 363
113 345
228 375
413 359
113 445
243 393
311 365
137 376
326 367
307 398
123 448
109 168
107 173
129 489
107 62
125 395
151 285
229 388
148 494
153 412
109 259
89 374
127 201
129 399
116 297
130 402
126 456
123 125
421 358
200 398
19 384
108 172
107 390
129 186
117 177
210 401
346 366
458 371
138 178
284 389
414 387
445 368
133 439
382 394
147 159
469 399
136 129
141 425
154 117
108 227
124 104
105 218
68 370
119 496
46 364
135 287
135 94
127 105
147 130
139 22
349 392
18 403
77 386
268 379
374 366
123 459
480 368
29 364
145 291
106 295
307 357
188 392
114 399
107 484
94 396
121 407
119 322
177 363
135 73
228 387
134 407
238 379
107 352
390 360
54 358
108 184
463 391
132 206
289 375
276 359
443 385
125 157
123 436
135 236
111 9
117 419
267 379
196 395
280 374
328 365
126 378
64 374
135 327
109 405
129 103
127 110
310 370
96 383
392 356
131 442
381 367
315 402
73 402
146 466
338 381
115 3
18 398
105 215
136 359
413 386
91 366
123 301
132 16
122 109
451 370
326 375
269 382
318 398
158 358
105 476
236 356
150 178
147 466
147 12
141 103
120 478
325 367
128 461
14 374
281 377
140 1
137 320
122 93
123 28
251 377
123 332
141 167
112 389
217 376
10 361
376 402
261 397
153 411
366 389
146 78
88 393
319 364
41 365
461 405
399 372
200 402
105 324
135 363
146 275
146 235
124 360
65 397
391 388
217 378
129 390
482 372
129 148
174 373
119 205
150 44
105 371
279 391
40 359
379 404
366 363
245 402
147 460
140 156
132 106
143 33
114 281
139 413
20 385
267 363
355 373
105 462
123 96
124 45
481 365
141 443
130 219
108 280
134 226
115 93
135 70
118 288
142 466
136 134
444 394
109 353
415 369
402 368
150 358
351 383
376 366
110 325
217 374
149 63
301 394
450 381
451 362
234 377
146 402
111 275
349 383
123 477
130 318
175 397
114 390
121 337
151 247
135 350
125 271
112 228
154 213
287 367
150 377
280 399
287 397
120 206
266 370
317 385
105 253
230 387
216 394
129 328
117 135
486 404
146 430
83 401
139 141
113 315
249 366
138 142
156 382
160 394
122 282
432 372
196 376
145 457
140 241
70 390
399 388
173 367
142 427
228 385
22 401
143 149
148 348
299 371
216 403
148 382
109 414
489 400
141 148
141 469
144 155
162 400
295 362
115 178
130 363
129 301
165 370
224 376
146 455
126 256
113 200
115 103
118 300
187 363
117 356
133 125
128 119
140 123
1 380
130 364
331 400
134 436
136 465
110 482
266 371
180 383
107 126
113 364
146 39
115 449
134 161
108 35
93 364
131 443
314 360
153 455
123 463
461 400
133 217
253 381
169 391
36 396
444 381
366 357
151 325
483 360
146 22
155 365
142 135
108 487
103 369
150 252
145 221
136 249
110 436
139 377
42 391
111 119
135 152
125 283
138 183
140 118
124 246
470 393
131 153
335 403
134 148
114 15
144 361
141 479
""", answer="50", comment="test 9")

    timeit.timeit('''f=open("22.txt", "r")
with f:
        run_test(f.read(), answer="1500", comment="test 22")''', setup="from __main__ import run_test", number=1)
